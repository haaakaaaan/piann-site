<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>piann — Gerçek değerini keşfet; skorun senin imzan</title>
<meta name="description" content="Yorum yok, gürültü yok; sadece puan ve sıralama. Gerçek değerini keşfet; skorun senin imzan.">
<style>
  :root{
    --bg:#f7f8fb; --ink:#0f172a; --muted:#64748b;
    --card:#ffffff; --line:#e6e9ef;
    --accent:#0A66C2; --accent-600:#0857A6;
    --container:max(320px, min(1200px, 92vw));
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;color:var(--ink);background:var(--bg)}
  a{color:inherit;text-decoration:none}
  .btn{padding:10px 14px;border:1px solid var(--line);border-radius:10px;background:#fff;cursor:pointer;font-weight:600}
  .btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
  .btn.primary:hover{background:var(--accent-600);border-color:var(--accent-600)}
  .btn.ghost{background:#fff;border-color:var(--line)}
  .btn:disabled{opacity:.6;cursor:not-allowed}
  .pill{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#fff;font-size:12px;color:var(--muted)}

  .nav{position:sticky;top:0;z-index:10;background:#fff;border-bottom:1px solid var(--line)}
  .nav-inner{max-width:var(--container);margin:0 auto;padding:10px 16px;display:flex;gap:12px;align-items:center;flex-wrap:wrap}
  .brand{font-weight:800;color:var(--accent)}
  .spacer{flex:1}
  .count{color:var(--muted);font-size:14px}

  .ribbon{background:#eef5ff;border-bottom:1px solid #d5e7ff}
  .ribbon .inner{max-width:var(--container);margin:0 auto;padding:8px 16px;color:#0a3e78;font-weight:600}

  .wrap{max-width:var(--container);margin:24px auto 64px;padding:0 16px}
  .grid{display:grid;grid-template-columns:2fr 1fr;gap:16px}
  @media (max-width:960px){.grid{grid-template-columns:1fr}}

  .card{background:var(--card);border:1px solid var(--line);border-radius:14px;box-shadow:0 10px 24px rgba(15,23,42,.04)}
  .hd{padding:14px 16px;border-bottom:1px solid var(--line);font-weight:700}
  .bd{padding:16px}
  .muted{color:var(--muted)}

  /* Düello tek çift görünüm */
  .duel-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
  @media (max-width:900px){.duel-grid{grid-template-columns:1fr}}
  .duel-card{border:1px solid var(--line);border-radius:14px;background:#fff;padding:14px;display:flex;flex-direction:column;gap:12px;position:relative;min-height:220px}
  .duel-head{display:flex;align-items:center;gap:12px}
  .avatar{width:64px;height:64px;border-radius:50%;border:1px solid var(--line);background:#e8eef7;display:flex;align-items:center;justify-content:center;font-weight:800;color:#0a3e78}
  .duel-title{font-weight:800}
  .rank-badge{position:absolute;top:12px;right:12px;background:#0a3e7833;color:#0a3e78;font-weight:800;border-radius:999px;padding:6px 10px;border:1px solid #cfe2ff}
  .bigscore{font-size:40px;font-weight:900;color:#0a3e78}
  .statline{display:flex;gap:10px;flex-wrap:wrap}
  .duel-actions{display:flex;gap:8px;flex-wrap:wrap;align-items:center}
  .duel-footer{display:flex;gap:8px;justify-content:center;align-items:center;margin-top:4px}
  .hint{font-size:12px;color:#64748b;text-align:center;margin-top:4px}

  /* Discover satırı */
  .row{display:grid;grid-template-columns:1fr 220px;gap:14px;align-items:center}
  .left{display:flex;gap:14px}
  .avatar-sm{width:56px;height:56px;border-radius:50%;border:1px solid var(--line);background:#e8eef7;display:flex;align-items:center;justify-content:center;font-weight:800;color:#0a3e78}
  .rightbox{background:#eef5ff;border:1px solid #d5e7ff;border-radius:12px;padding:20px;text-align:center}
  .score{font-weight:900;font-size:28px;color:#0a3e78}
  .sub{color:#64748b;font-size:12px}

  /* Tablo */
  table{width:100%;border-collapse:collapse}
  th,td{padding:10px 8px;border-bottom:1px solid var(--line);text-align:left;font-size:14px}
  th{color:#111827}

  footer{margin:32px 0;text-align:center;color:#64748b;font-size:12px}
</style>
</head>
<body>

<nav class="nav">
  <div class="nav-inner">
    <a href="#/" class="brand">piann</a>
    <a href="#/" class="btn">Ana sayfa</a>
    <a href="#/ranking" class="btn">Leaderboard</a>
    <div class="spacer"></div>
    <a href="#/profile/me" class="btn">Profil</a>
    <span id="memberCount" class="count">Üye: 0</span>
  </div>
</nav>

<div class="ribbon"><div class="inner">Gerçek değerini keşfet; skorun senin imzan.</div></div>

<main class="wrap">
  <div class="grid">
    <!-- Sol kolon -->
    <div>
      <section class="card">
        <div class="hd">Düello Arenası</div>
        <div class="bd" id="duelStage">
          <!-- Tek çift düello (boş durum) -->
          <div class="duel-grid">
            <div class="duel-card">
              <div class="rank-badge">Rank —</div>
              <div class="duel-head">
                <div class="avatar">—</div>
                <div>
                  <div class="duel-title">Henüz profil yok</div>
                  <div class="muted">@—— • person/brand</div>
                </div>
              </div>
              <div class="statline">
                <span class="bigscore">—,—</span>
                <span class="pill">Oy: —</span>
              </div>
              <div class="muted">Profil açıklaması burada görünecek.</div>
              <div class="duel-actions">
                <button class="btn" disabled>70</button>
                <button class="btn" disabled>80</button>
                <button class="btn" disabled>90</button>
                <button class="btn" disabled>95</button>
                <input class="score-input" type="text" placeholder="0–100" style="max-width:200px" disabled>
                <button class="btn primary" disabled>Puanla</button>
              </div>
            </div>
            <div class="duel-card">
              <div class="rank-badge">Rank —</div>
              <div class="duel-head">
                <div class="avatar">—</div>
                <div>
                  <div class="duel-title">Henüz profil yok</div>
                  <div class="muted">@—— • person/brand</div>
                </div>
              </div>
              <div class="statline">
                <span class="bigscore">—,—</span>
                <span class="pill">Oy: —</span>
              </div>
              <div class="muted">Profil açıklaması burada görünecek.</div>
              <div class="duel-actions">
                <button class="btn" disabled>70</button>
                <button class="btn" disabled>80</button>
                <button class="btn" disabled>90</button>
                <button class="btn" disabled>95</button>
                <input class="score-input" type="text" placeholder="0–100" style="max-width:200px" disabled>
                <button class="btn primary" disabled>Puanla</button>
              </div>
            </div>
          </div>
          <div class="duel-footer" style="margin-top:12px">
            <button class="btn ghost" id="chooseL" disabled>◀ Sol daha iyi</button>
            <button class="btn ghost" id="btnSwap" disabled>Yer değiştir</button>
            <button class="btn ghost" id="chooseR" disabled>Sağ daha iyi ▶</button>
          </div>
          <div class="hint">Sağa kaydır → düelloyu atla • Klavye: → atla, ← yer değiştir</div>
        </div>
        <div class="bd" style="border-top:1px solid var(--line);display:flex;gap:8px;justify-content:space-between;align-items:center">
          <span class="muted">Düello için en az 2 profil gerekir.</span>
          <div style="display:flex;gap:8px">
            <button class="btn ghost" id="btnSkip" disabled>Atla →</button>
            <button class="btn" id="btnShuffle" disabled>Karıştır (Yeni Düello)</button>
          </div>
        </div>
      </section>

      <section class="card" style="margin-top:16px">
        <div class="hd">Keşfet</div>
        <div class="bd" id="discoverBox">
          <div class="muted">Şimdilik keşfetlenecek profil yok. Bir sonraki adımda eklenecek.</div>
        </div>
      </section>
    </div>

    <!-- Sağ kolon -->
    <aside>
      <section class="card">
        <div class="hd">Benim Sıram</div>
        <div class="bd" id="meCard">
          <div class="muted">Demo mod: giriş/profil daha sonra eklenecek.</div>
        </div>
      </section>

      <section class="card" style="margin-top:16px">
        <div class="hd">Top 50</div>
        <div class="bd" id="top50Wrap">
          <div class="muted">Henüz veri yok.</div>
        </div>
      </section>

      <section class="card" style="margin-top:16px">
        <div class="hd">Canlı Aktivite</div>
        <div class="bd"><div class="muted" id="ticker">Henüz aktivite yok.</div></div>
      </section>
    </aside>
  </div>
</main>

<!-- Leaderboard sayfası -->
<section id="pageRanking" class="wrap" style="display:none">
  <div class="card">
    <div class="hd">Leaderboard – İlk 500</div>
    <div class="bd">
      <div id="rankWrap"><div class="muted">Henüz veri yok.</div></div>
      <div style="display:flex;gap:8px;justify-content:flex-end;margin-top:10px">
        <button class="btn" id="btnPrev" disabled>Önceki</button>
        <span class="muted" id="pageInfo">Sayfa 0/0</span>
        <button class="btn" id="btnNext" disabled>Sonraki</button>
      </div>
    </div>
  </div>
</section>

<!-- Profil sayfası -->
<section id="pageProfile" class="wrap" style="display:none">
  <div class="card">
    <div class="hd">Profil</div>
    <div class="bd" id="profWrap"><div class="muted">Profil bulunamadı.</div></div>
  </div>
</section>

<footer>© piann.com — Adım 1 (iskelet / profilsiz)</footer>

<script>
/* === Utilities === */
const $=(s)=>document.querySelector(s);
const views=['main','#pageRanking','#pageProfile'];
function showOnly(ids){views.forEach(id=>{const el=(id==='main')?document.querySelector('main'):$(id);if(el) el.style.display = ids.includes(id)?'block':'none';});}
function route(){
  const h=location.hash||'#/';
  if(h.startsWith('#/ranking')){ showOnly(['#pageRanking']); return; }
  if(h.startsWith('#/profile/')){ showOnly(['#pageProfile']); return; }
  showOnly(['main']);
}
window.addEventListener('hashchange', route);

/* === LCB (ilerisi için hazır) === */
function lcb(sumMicro,sumSqMicro,n){
  if(!n||n<=0) return 0;
  const mean=(sumMicro/n)/1e5;
  let sd=25;
  if(n>1){
    const ex2=(sumSqMicro/n)/1e10;
    const ex=(sumMicro/n)/1e5;
    sd=Math.sqrt(Math.max(0,ex2-ex*ex));
  }
  const v = mean - 1.96*(sd/Math.sqrt(n));
  return Math.max(0,Math.min(100,v));
}

/* === Boş veri seti (bilinçli) === */
const profiles=[];       // Adım 2'de dolduracağız
const activityLog=[];    // Adım 2'de kullanılacak
$('#memberCount').textContent='Üye: '+profiles.length;

/* === Düello butonları (şimdilik disabled) — event wiring hazır === */
['chooseL','chooseR','btnSwap','btnSkip','btnShuffle','btnPrev','btnNext'].forEach(id=>{
  const el = $('#'+id);
  if(el) el.addEventListener('click', (e)=> {
    e.preventDefault();
    alert('Bu adımda profilsiz çalışıyoruz. Bir sonraki adımda düellolar aktif olacak.');
  });
});

/* === Keşfet/Top50/Profil/Ranking boş durumları gösterildi === */

/* === Boot === */
function boot(){ route(); }
document.addEventListener('DOMContentLoaded', boot);
</script>
</body>
</html>
